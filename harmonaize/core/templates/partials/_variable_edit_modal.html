{% comment %}
Reusable edit modal for variable cards.

Required: Include this once per page that uses variable cards.
The JavaScript functions (openEditModal, closeEditModal, saveEdit) need to be defined in the parent template.
{% endcomment %}

<!-- Edit Variable Modal -->
<div id="editModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Edit Variable</h3>
      <span class="close" onclick="closeEditModal()">&times;</span>
    </div>
    <div class="modal-body">
      <form id="editForm">
        <div class="form-group">
          <label for="editVariableName">Variable Name:</label>
          <input type="text" id="editVariableName" class="form-control" readonly>
        </div>
        <div class="form-group">
          <label for="editDisplayName">Display Name:</label>
          <input type="text" id="editDisplayName" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="editDescription">Description:</label>
          <textarea id="editDescription" class="form-control" rows="3"></textarea>
        </div>
        <div class="form-group">
          <label for="editVariableType">Variable Type:</label>
          <select id="editVariableType" class="form-select" required>
            <option value="">-- Select Type --</option>
            <option value="float">Float (decimal numbers)</option>
            <option value="int">Integer (whole numbers)</option>
            <option value="string">String (text)</option>
            <option value="categorical">Categorical (predefined choices)</option>
            <option value="boolean">Boolean (yes/no)</option>
            <option value="datetime">Date/Time</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editUnit">Unit:</label>
          <input type="text" id="editUnit" class="form-control" placeholder="e.g., kg, cm, Â°C">
        </div>
        <div class="form-group">
          <label for="editOntologyCode">Ontology Code:</label>
          <input type="text" id="editOntologyCode" class="form-control" placeholder="e.g., LOINC:33747-0">
        </div>
        <div class="form-group">
          <label for="editCategory">Category:</label>
          <input type="text" id="editCategory" class="form-control" placeholder="e.g., health, climate">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
      <button type="button" class="btn btn-primary" onclick="saveEdit()">Save Changes</button>
    </div>
  </div>
</div>
