<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 720" width="1280" height="720">
  <defs>
    <style>
      .slide-title { font-family: Arial, Helvetica, sans-serif; font-size: 48px; font-weight: bold; fill: #1e3a5f; }
      .section-title { font-family: Arial, Helvetica, sans-serif; font-size: 22px; font-weight: bold; fill: #2c5282; }
      .subsection-title { font-family: Arial, Helvetica, sans-serif; font-size: 16px; font-weight: bold; fill: #1e3a5f; }
      .config-text { font-family: Arial, Helvetica, sans-serif; font-size: 12px; fill: #2d3748; font-family: monospace; }
      .body-text { font-family: Arial, Helvetica, sans-serif; font-size: 14px; fill: #2d3748; }
      .small-text { font-family: Arial, Helvetica, sans-serif; font-size: 12px; fill: #4a5568; }
      .label-text { font-family: Arial, Helvetica, sans-serif; font-size: 13px; font-weight: bold; fill: #2d3748; }
      .step-number { font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-weight: bold; fill: #ffffff; }
    </style>

    <marker id="arrow-config" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2d3748" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1280" height="720" fill="#f7fafc"/>

  <!-- Header -->
  <rect x="0" y="0" width="1280" height="90" fill="#1e3a5f" opacity="0.05"/>
  <text x="640" y="55" class="slide-title" text-anchor="middle">Climate Module Configuration</text>

  <!-- Two-column layout -->

  <!-- LEFT COLUMN: Django Settings -->
  <g id="django-settings">
    <text x="80" y="120" class="section-title">Django Settings Configuration</text>
    <rect x="80" y="125" width="550" height="2" fill="#2196F3"/>

    <!-- LOCAL_APPS -->
    <rect x="80" y="145" width="550" height="130" fill="#E3F2FD" rx="6" stroke="#2196F3" stroke-width="2"/>
    <text x="100" y="170" class="subsection-title">1. Add to LOCAL_APPS (settings.py)</text>
    <rect x="100" y="180" width="510" height="80" fill="#ffffff" rx="4"/>
    <text x="110" y="198" class="config-text">LOCAL_APPS = [</text>
    <text x="130" y="214" class="config-text">'harmonaize_climate.apps.ClimateConfig',</text>
    <text x="130" y="230" class="config-text"># ... other local apps</text>
    <text x="110" y="246" class="config-text">]</text>

    <!-- URL Configuration -->
    <rect x="80" y="290" width="550" height="110" fill="#E8F5E9" rx="6" stroke="#4CAF50" stroke-width="2"/>
    <text x="100" y="315" class="subsection-title">2. Configure URLs (urls.py)</text>
    <rect x="100" y="325" width="510" height="60" fill="#ffffff" rx="4"/>
    <text x="110" y="343" class="config-text">urlpatterns = [</text>
    <text x="130" y="359" class="config-text">path('climate/', include('climate.urls')),</text>
    <text x="130" y="375" class="config-text"># dashboard, config, requests, export</text>
    <text x="110" y="379" class="config-text">]</text>

    <!-- Celery Configuration -->
    <rect x="80" y="415" width="550" height="145" fill="#FFF3E0" rx="6" stroke="#FF9800" stroke-width="2"/>
    <text x="100" y="440" class="subsection-title">3. Celery Task Configuration</text>
    <rect x="100" y="450" width="510" height="95" fill="#ffffff" rx="4"/>
    <text x="110" y="468" class="config-text">CELERY_BROKER_URL = 'redis://localhost:6379'</text>
    <text x="110" y="484" class="config-text">CELERY_RESULT_BACKEND = 'redis://localhost:6379'</text>
    <text x="110" y="500" class="config-text">CELERY_BEAT_SCHEDULE = {</text>
    <text x="130" y="516" class="config-text">'cleanup-cache': {'task': 'cleanup_cache',</text>
    <text x="190" y="532" class="config-text">'schedule': crontab(hour=2)},</text>
    <text x="110" y="536" class="config-text">}</text>
  </g>

  <!-- RIGHT COLUMN: Environment Setup -->
  <g id="environment-setup">
    <text x="680" y="120" class="section-title">Environment & API Credentials</text>
    <rect x="680" y="125" width="520" height="2" fill="#2196F3"/>

    <!-- GEE Credentials -->
    <rect x="680" y="145" width="520" height="130" fill="#E8F5E9" rx="6" stroke="#4CAF50" stroke-width="2"/>
    <text x="700" y="170" class="subsection-title">Google Earth Engine Setup</text>
    <rect x="700" y="180" width="480" height="80" fill="#ffffff" rx="4"/>
    <text x="710" y="198" class="config-text">GEE_SERVICE_ACCOUNT_EMAIL=</text>
    <text x="720" y="214" class="config-text">'climate@project.iam.gserviceaccount.com'</text>
    <text x="710" y="230" class="config-text">GEE_PRIVATE_KEY_PATH=</text>
    <text x="720" y="246" class="config-text">'/path/to/service-account-key.json'</text>

    <!-- CDS Credentials -->
    <rect x="680" y="290" width="520" height="130" fill="#E3F2FD" rx="6" stroke="#2196F3" stroke-width="2"/>
    <text x="700" y="315" class="subsection-title">Copernicus CDS Setup</text>
    <rect x="700" y="325" width="480" height="80" fill="#ffffff" rx="4"/>
    <text x="710" y="343" class="config-text">COPERNICUS_CDS_UID='12345'</text>
    <text x="710" y="359" class="config-text">COPERNICUS_CDS_API_KEY='abcd-efgh-ijkl'</text>
    <text x="710" y="375" class="config-text"># Get from: cds.climate.copernicus.eu</text>

    <!-- Mock Mode Toggle -->
    <rect x="680" y="435" width="520" height="125" fill="#FFEBEE" rx="6" stroke="#F44336" stroke-width="2"/>
    <text x="700" y="460" class="subsection-title">Mock Mode (Development)</text>
    <rect x="700" y="470" width="480" height="75" fill="#ffffff" rx="4"/>
    <text x="710" y="488" class="config-text">CLIMATE_MOCK_MODE=True</text>
    <text x="710" y="504" class="body-text" font-size="11">When enabled:</text>
    <text x="720" y="520" class="body-text" font-size="11">- No API credentials required</text>
    <text x="720" y="536" class="body-text" font-size="11">- Returns synthetic climate data</text>
  </g>

  <!-- BOTTOM: API Setup Flowchart -->
  <g id="setup-flowchart">
    <rect x="80" y="575" width="1120" height="120" fill="#F5F5F5" rx="6" stroke="#9E9E9E" stroke-width="1"/>
    <text x="640" y="600" class="section-title" text-anchor="middle">API Credentials Setup Flow</text>

    <!-- Step 1 -->
    <circle cx="150" cy="640" r="20" fill="#2196F3"/>
    <text x="150" y="647" class="step-number" text-anchor="middle">1</text>
    <text x="150" y="673" class="small-text" text-anchor="middle">Register API</text>

    <line x1="170" y1="640" x2="210" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Step 2 -->
    <circle cx="240" cy="640" r="20" fill="#4CAF50"/>
    <text x="240" y="647" class="step-number" text-anchor="middle">2</text>
    <text x="240" y="673" class="small-text" text-anchor="middle">Get Keys</text>

    <line x1="260" y1="640" x2="300" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Step 3 -->
    <circle cx="330" cy="640" r="20" fill="#FF9800"/>
    <text x="330" y="647" class="step-number" text-anchor="middle">3</text>
    <text x="330" y="673" class="small-text" text-anchor="middle">Set .env</text>

    <line x1="350" y1="640" x2="390" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Step 4 -->
    <circle cx="420" cy="640" r="20" fill="#9C27B0"/>
    <text x="420" y="647" class="step-number" text-anchor="middle">4</text>
    <text x="420" y="673" class="small-text" text-anchor="middle">Test Auth</text>

    <line x1="440" y1="640" x2="480" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Step 5 -->
    <circle cx="510" cy="640" r="20" fill="#00BCD4"/>
    <text x="510" y="647" class="step-number" text-anchor="middle">5</text>
    <text x="510" y="673" class="small-text" text-anchor="middle">Config DB</text>

    <line x1="530" y1="640" x2="570" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Step 6 -->
    <circle cx="600" cy="640" r="20" fill="#8BC34A"/>
    <text x="600" y="647" class="step-number" text-anchor="middle">6</text>
    <text x="600" y="673" class="small-text" text-anchor="middle">Run Test</text>

    <line x1="620" y1="640" x2="660" y2="640" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-config)"/>

    <!-- Decision: Success? -->
    <rect x="690" y="620" width="80" height="40" fill="#FFD54F" stroke="#F57C00" stroke-width="2" rx="4"/>
    <text x="730" y="645" class="label-text" text-anchor="middle" font-size="11">Success?</text>

    <!-- Success path -->
    <line x1="770" y1="640" x2="830" y2="640" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrow-config)"/>
    <text x="800" y="630" class="label-text" fill="#4CAF50" font-size="11">Yes</text>

    <rect x="835" y="620" width="100" height="40" fill="#4CAF50" rx="4"/>
    <text x="885" y="645" class="step-number" text-anchor="middle" font-size="12">Ready!</text>

    <!-- Failure path -->
    <line x1="730" y1="620" x2="730" y2="590" stroke="#F44336" stroke-width="2"/>
    <line x1="730" y1="590" x2="330" y2="590" stroke="#F44336" stroke-width="2" marker-end="url(#arrow-config)"/>
    <text x="530" y="585" class="label-text" fill="#F44336" font-size="11">No - Fix Config</text>

    <!-- Mock Mode bypass -->
    <rect x="980" y="620" width="180" height="40" fill="#FF9800" rx="4" stroke="#E65100" stroke-width="2"/>
    <text x="1070" y="635" class="step-number" text-anchor="middle" font-size="11">OR: Enable</text>
    <text x="1070" y="650" class="step-number" text-anchor="middle" font-size="11">Mock Mode</text>
  </g>

  <!-- Footer -->
  <text x="640" y="710" class="small-text" text-anchor="middle">Configuration - Django Settings and API Credentials Setup</text>
</svg>
